export async function main(ns) {
    ns.disableLog('ALL');
    ns.clearLog();
    ns.tail();
    let allServers = ['home']; //initialize with first server to scan from
    let thisScan = []; //current scan
    for (const server of allServers) {
        thisScan = (ns.scan(server)); //do scan
        thisScan = thisScan.filter(function (a) { return !allServers.includes(a); }); //filter servers allready in allServers out
        allServers = [...allServers, ...thisScan]; //merge allServers
    }
    allServers.sort(function (a, b) {
        if (a !== 'home') {
            return -1;
        }
        else {
            return 0;
        }
    });
    for (const server of allServers) {
        const scripts = ns.ls(server).filter(function (a) { return !(a == ns.getScriptName() && server == ns.getHostname()); });
        for (const script of scripts) {
            const type = '.' + script.replace(/^.*\./gm, '');
            const validTypes = ['.js', '.script', '.ns', '.txt'];
            if (validTypes.includes(type)) {
                if (ns.scriptRunning(script, server)) {
                    ns.scriptKill(script, server);
                    await ns.sleep(0);
                }
                if (ns.rm(script, server)) {
                    ns.print(`${server}: deleted "${script}"`);
                }
                await ns.sleep(0);
            }
        }
    }
    ns.print('WARN: DELETE THIS SCRIPT MANUALLY');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZXRlQUxMLmpzIiwic291cmNlUm9vdCI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9zb3VyY2VzLyIsInNvdXJjZXMiOlsicHJvZ3JhbXMvZGVsZXRlQUxMLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sQ0FBQyxLQUFLLFVBQVUsSUFBSSxDQUFDLEVBQU87SUFFOUIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNwQixFQUFFLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDYixFQUFFLENBQUMsSUFBSSxFQUFFLENBQUE7SUFFVCxJQUFJLFVBQVUsR0FBYSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsMkNBQTJDO0lBQy9FLElBQUksUUFBUSxHQUFhLEVBQUUsQ0FBQSxDQUFDLGNBQWM7SUFDMUMsS0FBSyxNQUFNLE1BQU0sSUFBSSxVQUFVLEVBQUU7UUFDN0IsUUFBUSxHQUFHLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFBLENBQUMsU0FBUztRQUN0QyxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxPQUFPLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsMkNBQTJDO1FBQ3hILFVBQVUsR0FBRyxDQUFDLEdBQUcsVUFBVSxFQUFDLEdBQUcsUUFBUSxDQUFDLENBQUEsQ0FBQyxrQkFBa0I7S0FDOUQ7SUFDRCxVQUFVLENBQUMsSUFBSSxDQUFFLFVBQVUsQ0FBQyxFQUFFLENBQUM7UUFDM0IsSUFBSSxDQUFDLEtBQUssTUFBTSxFQUFFO1lBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQTtTQUFFO2FBQzFCO1lBQUUsT0FBTyxDQUFDLENBQUE7U0FBRTtJQUNyQixDQUFDLENBQUMsQ0FBQztJQUVILEtBQUssTUFBTSxNQUFNLElBQUksVUFBVSxFQUFFO1FBRTdCLE1BQU0sT0FBTyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFFLFVBQVUsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsYUFBYSxFQUFFLElBQUksTUFBTSxJQUFJLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFBLENBQUEsQ0FBQyxDQUFDLENBQUM7UUFFdkgsS0FBSyxNQUFNLE1BQU0sSUFBSSxPQUFPLEVBQUU7WUFDMUIsTUFBTSxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxFQUFDLEVBQUUsQ0FBQyxDQUFBO1lBQy9DLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBSyxFQUFDLFNBQVMsRUFBQyxLQUFLLEVBQUMsTUFBTSxDQUFDLENBQUE7WUFDakQsSUFBSSxVQUFVLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUMzQixJQUFJLEVBQUUsQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFDLE1BQU0sQ0FBQyxFQUFFO29CQUNqQyxFQUFFLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsQ0FBQTtvQkFDN0IsTUFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFBO2lCQUNwQjtnQkFDRCxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFDLE1BQU0sQ0FBQyxFQUFFO29CQUN0QixFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsTUFBTSxjQUFjLE1BQU0sR0FBRyxDQUFDLENBQUE7aUJBQzdDO2dCQUNELE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTthQUNwQjtTQUNKO0tBQ0o7SUFDRCxFQUFFLENBQUMsS0FBSyxDQUFDLG1DQUFtQyxDQUFDLENBQUE7QUFDakQsQ0FBQyJ9