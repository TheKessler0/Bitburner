/** @param {import("C:/Users/lfrit/Desktop/Bitburner/Bitburner/NetscriptDefinitions").NS } ns */
const targets = ['I.I.I.I', 'CSEC', 'avmnite-02h', 'run4theh111z'];
export async function main(ns) {
    ns.disableLog('sleep');
    ns.disableLog('scan');
    const s = ['home'], p = [''], r = { home: ['home'] };
    for (let i = 0, j; i < s.length; i++) {
        for (j of ns.scan(s[i])) {
            if (!s.includes(j))
                s.push(j), p.push(s[i]), r[j] = r[s[i]] + ';' + j;
        }
    }
    let targetObj;
    function updateServers() {
        targetObj = targets.map(tm => { return { name: tm, values: ns.getServer(tm) }; });
    }
    updateServers();
    function allBackdoored() {
        return targetObj.every(te => te.values.backdoorInstalled);
    }
    while (!allBackdoored()) {
        for (const entry of targetObj) {
            if (!entry.values.backdoorInstalled && entry.values.hasAdminRights) {
                r[entry.name].split(';').map(rsm => ns.connect(rsm));
                await ns.installBackdoor();
                ns.connect('home');
            }
            updateServers();
            await ns.sleep(10);
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2Rvb3IuanMiLCJzb3VyY2VSb290IjoiaHR0cDovL2xvY2FsaG9zdDo4MDAwL3NvdXJjZXMvIiwic291cmNlcyI6WyJwcm9ncmFtcy9iYWNrZG9vci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnR0FBZ0c7QUFDaEcsTUFBTSxPQUFPLEdBQUcsQ0FBQyxTQUFTLEVBQUMsTUFBTSxFQUFDLGFBQWEsRUFBQyxjQUFjLENBQUMsQ0FBQTtBQUMvRCxNQUFNLENBQUMsS0FBSyxVQUFVLElBQUksQ0FBQyxFQUFFO0lBQ3pCLEVBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkIsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN0QixNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUNkLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUNSLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDM0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2xDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFDckIsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO2dCQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7U0FDekU7S0FDSjtJQUNELElBQUksU0FBUyxDQUFBO0lBQ2IsU0FBUyxhQUFhO1FBQ2xCLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQSxFQUFFLEdBQUcsT0FBTyxFQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2hGLENBQUM7SUFDRCxhQUFhLEVBQUUsQ0FBQTtJQUNmLFNBQVMsYUFBYTtRQUNsQixPQUFPLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFBLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUE7SUFDNUQsQ0FBQztJQUNELE9BQU8sQ0FBQyxhQUFhLEVBQUUsRUFBRTtRQUNyQixLQUFLLE1BQU0sS0FBSyxJQUFJLFNBQVMsRUFBRTtZQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsRUFBRTtnQkFDaEUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQSxFQUFFLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUNwRCxNQUFNLEVBQUUsQ0FBQyxlQUFlLEVBQUUsQ0FBQztnQkFDM0IsRUFBRSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQzthQUN0QjtZQUNELGFBQWEsRUFBRSxDQUFDO1lBQ2hCLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN0QjtLQUNKO0FBQ0wsQ0FBQyJ9