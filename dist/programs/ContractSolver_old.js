import { solveContract } from "/programs/dependencies/solver.js";
/** @param {NS} ns **/
export async function main(ns) {
    ns.clearLog();
    ns.disableLog('ALL');
    //ns.tail()
    await dfs(ns, null, "home", trySolveContracts, 0);
}
/** @param {NS} ns **/
async function dfs(ns, parent, current, f, depth, ...args) {
    var hosts = ns.scan(current);
    if (parent != null) {
        const index = hosts.indexOf(parent);
        if (index > -1) {
            hosts.splice(index, 1);
        }
    }
    await f(ns, current, depth, ...args);
    for (let index = 0, len = hosts.length; index < len; ++index) {
        const host = hosts[index];
        await dfs(ns, current, host, f, depth + 1, ...args);
    }
}
/** @param {NS} ns **/
async function trySolveContracts(ns, host, depth) {
    var contracts = ns.ls(host, "cct");
    for (var contract of contracts) {
        solveContract(ns, host, contract, 0);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udHJhY3RTb2x2ZXJfb2xkLmpzIiwic291cmNlUm9vdCI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9zb3VyY2VzLyIsInNvdXJjZXMiOlsicHJvZ3JhbXMvQ29udHJhY3RTb2x2ZXJfb2xkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUVqRSxzQkFBc0I7QUFDdEIsTUFBTSxDQUFDLEtBQUssVUFBVSxJQUFJLENBQUMsRUFBTztJQUM5QixFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDZCxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3BCLFdBQVc7SUFDZCxNQUFNLEdBQUcsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuRCxDQUFDO0FBRUQsc0JBQXNCO0FBQ3RCLEtBQUssVUFBVSxHQUFHLENBQUMsRUFBaUMsRUFBRSxNQUFZLEVBQUUsT0FBZSxFQUFFLENBQTBHLEVBQUUsS0FBYSxFQUFFLEdBQUcsSUFBaUI7SUFDbk8sSUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUM3QixJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUU7UUFDbkIsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNwQyxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRTtZQUNmLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQ3ZCO0tBQ0Q7SUFFRCxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBRXJDLEtBQUssSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLEtBQUssR0FBRyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUU7UUFDN0QsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzFCLE1BQU0sR0FBRyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxLQUFLLEdBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7S0FDbEQ7QUFDRixDQUFDO0FBRUQsc0JBQXNCO0FBQ3RCLEtBQUssVUFBVSxpQkFBaUIsQ0FBQyxFQUE2QyxFQUFFLElBQVMsRUFBRSxLQUFVO0lBQ3BHLElBQUksU0FBUyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25DLEtBQUssSUFBSSxRQUFRLElBQUksU0FBUyxFQUFFO1FBQy9CLGFBQWEsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztLQUNyQztBQUNGLENBQUMifQ==